<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../tapis.css">
  <link href=".../tools.css" rel="stylesheet" type="text/css">
</head>

<body>

  <dialog id="DialogAggregateColumns">
    <form>
      Aggregate columns:
      <span id="DialogAggregateColumnsHTML">
        <br>
        <fieldset style="display:inline-block">
          <legend>Select attributes:</legend>
          <span id="columnsFielset"></span>
        </fieldset>
        <fieldset style="display:inline-block">
          <legend>Aggregations:</legend>
          <span id="operationsFieldSet"></span>
        </fieldset>

        <fieldset style="display:inline-block">
          <legend>Set number of decimals:</legend>
          <span>
            <input type="radio" id="chooseNumberDecimals_1" name="chooseNumberDecimals" value="no" checked>
            <label for="chooseNumberDecimals_1">No </label>
            <br>
            <input type="radio" id="chooseNumberDecimals_0" name="chooseNumberDecimals" value="yes">
            <label for="chooseNumberDecimals_0">Yes: </label>
            <input id="chooseNumberDecimals_0_input" type="number" max="10" min="0">
          </span>


        </fieldset>
        <br>
        <fieldset style="display:inline-block">
          <legend>Column name: </legend>
          <input type="radio" name="columnNameRadioAggregateColumns" id="columnNameRadioAggregateColumns_personalized">
          <label for="columnNameRadioAggregateColumns_personalized">Personalized</label>
          <input id="columnNameAggregateColumns" type="text" style="margin-top: 10px; margin-bottom: 10px; ">
          <br>
          <input type="radio" name="columnNameRadioAggregateColumns" checked="checked"
            id="columnNameRadioAggregateColumns_suggested">
          <label for="columnNameRadioAggregateColumns_suggested">Suggested: </label>
          <span id="columnNameAggregateColumns_span"></span>
        </fieldset>
        <br>

        <button value="add" onClick="addColumnToListAggregateColumns(event)" style="margin-bottom:10px">Add column to
          list </button>

        <br><br>
        <div style="width:auto;">
          <label>List of columns to add</label>
          <span id=spanColumnsListAggregateColumns></span>
        </div>
      </span>
      <div class="center" style="margin-top: 10px">
        <button value="default" onClick="addColumnsToTableInAggregateColumns(event)">Ok</button>
        <button value="cancel" formmethod="dialog" onclick="cancelButtonRecoveryOldData(event)">Cancel</button>
      </div>
    </form>
  </dialog>

  <script>
    var array = [20, 30, 50, 60, 70, 80, 110, 120, 150, 160, 200, 310, 330, 340, 450, 460]; //par, 8 par (6,5 / 32)
    var array2 = [2, 3, 5, 6, 7, 8, 11, 12, 15, 16, 20, 31, 33, 34, 36]; //impar, 7 impar (6, 31)
    var array3 = [2, 3, 5, 6, 7, 8, 11, 12, 15, 16, 20, 31, 33, 34]; //par, 7 impar (6,20)
    var array4 = [2, 3, 5, 6, 7, 8, 11, 12, 15, 16, 20, 31, 33, 34, 36, 45, 46, 47, 48, 49, 50]; //impar, 8 par (7,5/45,5)

    var textarea = document.getElementById("textAreaFormulaColumnsCalculator")
    textarea.addEventListener('click', event => {
      textarea.setAttribute("data-mousePosition", textarea.selectionStart)
      //console.log(textarea.selectionStart) // logs previous location
    })

    function WriteInTheFormulaButtons(character) {
      event.preventDefault();
      var textAreaFormulaColumnsCalculator = document.getElementById("textAreaFormulaColumnsCalculator");
      var text = textAreaFormulaColumnsCalculator.value;
      var mousePosition = textAreaFormulaColumnsCalculator.getAttribute("data-mousePosition");

      if (character == "attributeSelected") {
        var selector = document.getElementById("calculator_selectColumns");
        character = selector.options[selector.selectedIndex].value;
      }
      textAreaFormulaColumnsCalculator.value = [text.slice(0, mousePosition), character, text.slice(mousePosition)].join('');
      if (!mousePosition) {
        mousePosition = 0; //If a button is clicked before click text area
      }
      textAreaFormulaColumnsCalculator.setAttribute("data-mousePosition", parseInt(mousePosition) + character.length); //If there is no click, next button will be written after this.
    }

    console.log(eval("Math.log10(9)*3+5"))








  </script>
</body>

</html>